{"version":3,"sources":["registerServiceWorker.ts","components/styled.ts","components/QuestionItem.tsx","helpers.ts","App.tsx","index.tsx"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","colors","primary","secondary","positive","negative","neutral","muted","hotpink","black","white","gray","lightbrown","darkbrown","asphaltgrey","lightgrey","lightgreen","olivegreen","icons","check","concat","cross","Shell","styled","div","_templateObject","AppContainer","_templateObject2","Header","header","_templateObject3","ProgressBar","_templateObject4","Progress","_templateObject5","props","color","ratio","ProgressText","_templateObject6","Card","_templateObject7","SummaryCard","_templateObject8","Question","_templateObject9","QuestionText","_templateObject10","Image","img","_templateObject11","ImageWrapper","_templateObject12","Option","_templateObject13","isAnswered","isSelected","isCorrect","Hint","_templateObject14","Pill","span","_templateObject15","ButtonContainer","_templateObject16","NextButton","button","_templateObject17","QuestionItem","react_default","a","createElement","index","question","alt","src","image","uri","Object","keys","answers","map","key","onClick","option","selected","onSelect","correctAnswer","style","roadCodePage","shuffle","array","temporaryValue","randomIndex","currentIndex","length","Math","floor","random","INITIAL_STATE","answeredCount","correctCount","incorrectCount","isDone","questions","questionsSample","status","selectedOption","makeHandlers","setState","allQuestions","handleNextQuestionClick","objectSpread","handleResetState","slice","handleOptionSelect","isFailed","Storage","value","localStorage","setItem","JSON","stringify","getItem","parse","rootElement","document","getElementById","app","react","_useState","useState","read","_useState2","slicedToArray","useEffect","persist","handlers","n","progressRatio","correctRatio","ratios","selectedItem","_ref","round","assign","render","URL","process","toString","origin","addEventListener","fetch","response","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.c94cc6dd.chunk.js","sourcesContent":["// tslint:disable:no-console\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the 'N+1' visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL!,\n      window.location.toString()\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker) {\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and\n                // the fresh content will have been added to the cache.\n                // It's the perfect time to display a 'New content is\n                // available; please refresh.' message in your web app.\n                console.log('New content is available; please refresh.');\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // 'Content is cached for offline use.' message.\n                console.log('Content is cached for offline use.');\n              }\n            }\n          };\n        }\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type')!.indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import styled from \"@emotion/styled\";\n\nexport const colors = {\n  primary: \"#ffd400\",\n  secondary: \"#3482b9\",\n  positive: \"#49c04a\",\n  negative: \"#d03930\",\n  neutral: \"#aaa\",\n  muted: \"#eaeaea\",\n  hotpink: \"#FC8BA4\",\n  black: \"#333\",\n  white: \"#fff\",\n  gray: \"#ccc\",\n  // alternative pallette\n  lightbrown: \"#AD5114\",\n  darkbrown: \"#663210\",\n  asphaltgrey: \"#415E6D\",\n  lightgrey: \"#A0AEB6\",\n  lightgreen: \"#75B600\",\n  olivegreen: \"#46600E\"\n};\n\nexport const icons = {\n  check: `${\n    colors.positive\n  } 50% no-repeat url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjIwLjM0OXB4IiBoZWlnaHQ9IjE1LjgyNnB4IiB2aWV3Qm94PSIwIDAgMjAuMzQ5IDE1LjgyNiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAuMzQ5IDE1LjgyNiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+IDxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHBvaW50cz0iMTguMjI4LDAgMjAuMzQ5LDIuMTIyIDYuNjQ0LDE1LjgyNiAwLDkuMTgyIDIuMTIyLDcuMDYxIDYuNjQ0LDExLjU4MyAiLz4gPC9zdmc+)`,\n  cross: `white 50% no-repeat  url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE1Ljg3M3B4IiBoZWlnaHQ9IjE1Ljg5MXB4IiB2aWV3Qm94PSIwIDAgMTUuODczIDE1Ljg5MSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTUuODczIDE1Ljg5MSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+IDxwb2x5Z29uIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjZGE0MTIxIiBwb2ludHM9IjE0LjE4NiwwIDE1Ljg3MywxLjc0IDkuNjg2LDcuOTYzIDE1LjgzOCwxNC4xNSAxNC4xNSwxNS44OTEgNy45MjgsOS43MjEgMS44MTEsMTUuODkxIDAuMDM1LDE0LjE1IDYuMTg4LDcuOTYzIDAsMS43NzUgMS43NTgsMCA3Ljk2Myw2LjI0ICIvPiA8L3N2Zz4=)`\n};\n\nexport const Shell = styled.div`\n  display: flex;\n  background-color: #dedede;\n  font-family: Roboto, sans-serif;\n  color: ${colors.black};\n  min-height: 100vh;\n`;\n\nexport const AppContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  padding-top: 40px;\n  max-width: 400px;\n  flex-grow: 1;\n`;\n\nexport const Header = styled.header`\n  font-size: 2em;\n  text-align: center;\n  color: ${colors.secondary};\n  font-weight: bold;\n`;\n\nexport const ProgressBar = styled.div`\n  display: flex;\n  position: fixed;\n  top: 0;\n  background-color: ${colors.neutral};\n  height: 1.8em;\n  width: 100%;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);\n`;\n\nexport const Progress = styled.div<{ ratio: number; color: string }>`\n  height: 1.8em;\n  background-color: ${props => props.color};\n  width: ${props => props.ratio}%;\n`;\n\nexport const ProgressText = styled.div`\n  font-size: 1em;\n  font-weight: bold;\n  text-align: right;\n  position: fixed;\n  top: 0;\n  right: 0.1em;\n  height: 1.8em;\n  color: white;\n  padding: 0.3em 0.4em;\n`;\n\nexport const Card = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-height: 10vh;\n  margin: 1em 0.2em;\n  padding: 0.3em;\n  border-radius: 0.2em;\n  background-color: white;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);\n`;\n\nexport const SummaryCard = styled(Card)`\n  justify-content: center;\n  align-items: center;\n  min-height: 10vh;\n  font-weight: bold;\n  color: ${colors.white};\n  font-size: 1.2em;\n  background-color: ${props => props.color};\n`;\n\nexport const Question = styled.div`\n  font-size: 16px;\n  font-weight: bold;\n  background: ${colors.primary};\n  padding: 0.3em;\n  border-radius: 0.2em;\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const QuestionText = styled.div`\n  margin: 0.2em;\n  margin-right: 0.1em;\n`;\n\nexport const Image = styled.img`\n  width: 8em;\n  height: 8em;\n  overflow: hidden;\n  border-radius: 50%;\n  border: solid 0.2em white;\n`;\n\nexport const ImageWrapper = styled.div``;\n\ninterface OptionProps {\n  isSelected: boolean;\n  isAnswered: boolean;\n  isCorrect: boolean;\n}\n\nconst getOptionDisplay = (props: OptionProps) =>\n  props.isAnswered\n    ? props.isSelected || props.isCorrect\n      ? \"flex\"\n      : \"none\"\n    : \"flex\";\n\nconst getOptionBackgroundColor = (props: OptionProps) =>\n  props.isAnswered && props.isSelected\n    ? props.isCorrect\n      ? colors.positive\n      : colors.negative\n    : colors.muted;\n\nexport const Option = styled.div<OptionProps>`\n  display: ${getOptionDisplay};\n  padding: 0.6em 0.2em;\n  margin: 0.4em 0;\n  align-items: center;\n  border-radius: 0.2em;\n  cursor: ${props => (props.isAnswered ? \"\" : \"pointer\")};\n  background-color: ${getOptionBackgroundColor};\n  color: ${props =>\n    props.isAnswered && props.isSelected ? colors.white : colors.black};\n  :hover {\n    background-color: ${props => (props.isAnswered ? \"\" : colors.gray)};\n  }\n`;\n\nexport const Hint = styled.div`\n  color: #666;\n  padding: 0.2em;\n`;\n\ninterface PillProps {\n  isSelected: boolean;\n  isAnswered: boolean;\n  isCorrect: boolean;\n}\n\nconst getPillBackground = (props: PillProps) =>\n  props.isAnswered && (props.isSelected || props.isCorrect)\n    ? props.isCorrect\n      ? icons.check\n      : icons.cross\n    : colors.primary;\n\nconst getPillBorder = (props: PillProps) =>\n  props.isAnswered && (props.isSelected || props.isCorrect)\n    ? props.isCorrect\n      ? `solid 0.1em ${colors.white}`\n      : `none`\n    : `solid 0.1em ${colors.black}`;\n\nexport const Pill = styled.span<PillProps>`\n  border-radius: 50%;\n  min-width: 1.4em;\n  min-height: 1.4em;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 0.4em;\n  margin-left: 0.1em;\n  font-weight: bold;\n  padding: 0.2em;\n  background: ${getPillBackground};\n  border: ${getPillBorder};\n`;\n\nexport const ButtonContainer = styled.div`\n  display: flex;\n  justify-self: flex-end;\n  align-self: flex-end;\n  width: 100%;\n  @media screen and (max-width: 600px) {\n    flex: 1;\n  }\n`;\n\nexport const NextButton = styled.button`\n  background-color: ${colors.secondary};\n  font-size: 1.8em;\n  color: white;\n  border: none;\n  border-radius: 0.1em;\n  padding: 0.3em 0.6em;\n  flex: 1;\n  @media screen and (max-width: 600px) {\n    align-self: flex-end;\n    border-radius: 0;\n  }\n`;\n","import React, { useState, StrictMode } from \"react\";\n\nimport {\n  colors,\n  Card,\n  Question,\n  QuestionText,\n  ImageWrapper,\n  Pill,\n  Image,\n  Option,\n  Hint\n} from \"./styled\";\n\nimport { IQuestion } from \"../types\";\n\ninterface Props extends IQuestion {\n  index: number;\n  selected: string | null;\n  onSelect(selectedOption: string, isCorrect: boolean): void;\n}\n\nexport default function QuestionItem(props: Props) {\n  const handleSelection = (option: string) => () => {\n    if (!!props.selected) return;\n\n    props.onSelect(option, option === props.correctAnswer);\n  };\n\n  return (\n    <Card>\n      <Question>\n        <QuestionText>\n          #{props.index}: {props.question}\n        </QuestionText>\n        <ImageWrapper>\n          <Image alt=\"question's image\" src={props.image.uri} />\n        </ImageWrapper>\n      </Question>\n      {Object.keys(props.answers).map(key => (\n        <Option\n          key={key}\n          onClick={handleSelection(key)}\n          isAnswered={!!props.selected}\n          isCorrect={key === props.correctAnswer}\n          isSelected={key === props.selected}\n        >\n          <Pill\n            isAnswered={!!props.selected}\n            isCorrect={key === props.correctAnswer}\n            isSelected={key === props.selected}\n          >\n            {!!props.selected &&\n            (key === props.selected || key === props.correctAnswer)\n              ? \"\"\n              : key}\n          </Pill>\n          <div>{props.answers[key]}</div>\n        </Option>\n      ))}\n      {!!props.selected && (\n        <Hint>\n          {props.selected !== props.correctAnswer && (\n            <p style={{ color: colors.negative }}>\n              Correct Answer: {props.correctAnswer}\n            </p>\n          )}\n          {`For more information about this question refer to page ${\n            props.roadCodePage\n          } of the Official New Zealand Road Code.`}\n        </Hint>\n      )}\n    </Card>\n  );\n}\n","export function shuffle<T>(array: T[]) {\n  let currentIndex = array.length;\n  let temporaryValue;\n  let randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport { IQuestionItem } from \"./types\";\n\nimport {\n  colors,\n  Shell,\n  ProgressBar,\n  Progress,\n  ProgressText,\n  AppContainer,\n  Header,\n  QuestionItem,\n  NextButton,\n  ButtonContainer,\n  Card,\n  SummaryCard\n} from \"./components\";\n\nimport \"./styles.css\";\nimport { shuffle } from \"./helpers\";\n\ntype Status = \"IN_PROGRESS\" | \"PASSED\" | \"FAILED\";\n\ninterface State {\n  answeredCount: number;\n  correctCount: number;\n  incorrectCount: number;\n  isDone: boolean;\n  index: number;\n  isAnswered: boolean;\n  questions: IQuestionItem[];\n  questionsSample: number;\n  status: Status;\n  selectedOption: string | null;\n}\n\nconst INITIAL_STATE: State = {\n  answeredCount: 0,\n  correctCount: 0,\n  incorrectCount: 0,\n  isDone: false,\n  index: 0,\n  isAnswered: false,\n  questions: [],\n  questionsSample: 35,\n  status: \"IN_PROGRESS\",\n  selectedOption: null\n};\n\ninterface Props {\n  questions: IQuestionItem[];\n}\n\ntype SetStateFn = (value: React.SetStateAction<State>) => void;\n\nconst makeHandlers = (setState: SetStateFn, allQuestions: IQuestionItem[]) => ({\n  handleNextQuestionClick() {\n    setState(state =>\n      state.index < state.questionsSample - 1\n        ? {\n            ...state,\n            index: state.index + 1,\n            isAnswered: false,\n            selectedOption: null\n          }\n        : state\n    );\n  },\n  handleResetState() {\n    setState(state => ({\n      ...INITIAL_STATE,\n      questionsSample: state.questionsSample,\n      questions: shuffle<IQuestionItem>(allQuestions).slice(\n        0,\n        state.questionsSample\n      )\n    }));\n  },\n  handleOptionSelect(selectedOption: string, isCorrect: boolean) {\n    setState(state => {\n      const isDone = state.index === state.questionsSample - 1;\n      const incorrectCount = !isCorrect\n        ? state.incorrectCount + 1\n        : state.incorrectCount;\n      const correctCount = isCorrect\n        ? state.correctCount + 1\n        : state.correctCount;\n      const isFailed = incorrectCount >= 3;\n\n      return {\n        ...state,\n        selectedOption,\n        answeredCount: state.answeredCount + 1,\n        correctCount,\n        incorrectCount,\n        isDone: isDone || isFailed,\n        isAnswered: true,\n        status:\n          isDone || incorrectCount >= 3\n            ? incorrectCount >= 3\n              ? \"FAILED\"\n              : \"PASSED\"\n            : \"IN_PROGRESS\"\n      };\n    });\n  }\n});\n\nconst LS_KEY = \"@THE_ROAD_QUIZ\";\n\nclass Storage {\n  static persist(value: Object) {\n    localStorage.setItem(LS_KEY, JSON.stringify(value));\n  }\n\n  static read(questions: IQuestionItem[]): State {\n    const value = localStorage.getItem(LS_KEY);\n    return value !== null\n      ? JSON.parse(value)\n      : { ...INITIAL_STATE, questions: shuffle(questions) };\n  }\n}\n\nexport default function App(props: Props) {\n  const [state, setState] = useState<State>(\n    Storage.read(props.questions.slice(0, INITIAL_STATE.questionsSample))\n  );\n\n  useEffect(() => {\n    console.log(\"persisting\");\n    Storage.persist(state);\n  });\n\n  const handlers = makeHandlers(setState, props.questions);\n\n  const ratio = (n: number) => (n / state.questionsSample) * 100;\n\n  const progressRatio = ratio(state.answeredCount);\n  const correctRatio = ratio(state.correctCount);\n  const incorrectRatio = ratio(state.incorrectCount);\n\n  const ratios = [\n    {\n      ratio: incorrectRatio,\n      color: colors.negative\n    },\n    {\n      ratio: correctRatio,\n      color: colors.positive\n    }\n  ];\n\n  const selectedItem = state.questions[state.index];\n\n  return (\n    <Shell>\n      <ProgressBar>\n        {ratios.map(({ color, ratio }) => (\n          <Progress key={color} ratio={ratio} color={color} />\n        ))}\n      </ProgressBar>\n      <ProgressText>\n        {state.answeredCount} of {state.questionsSample} (\n        {Math.round(progressRatio)}%)\n        {!!state.incorrectCount &&\n          ` / ${state.incorrectCount} wrong answer${\n            state.incorrectCount > 1 ? \"s\" : \"\"\n          }`}\n      </ProgressText>\n      <AppContainer>\n        <Header>The Road Code</Header>\n\n        {state.isDone ? (\n          <SummaryCard\n            color={\n              state.status === \"FAILED\" ? colors.negative : colors.positive\n            }\n          >\n            {state.status === \"FAILED\"\n              ? `Sorry, you failed ${\n                  state.incorrectCount\n                } questions. Try again.`\n              : \"Congratulations, you passed the test!\"}\n          </SummaryCard>\n        ) : (\n          <QuestionItem\n            key={selectedItem.key}\n            onSelect={handlers.handleOptionSelect}\n            index={state.index + 1}\n            selected={state.selectedOption}\n            {...selectedItem.value}\n          />\n        )}\n        <ButtonContainer>\n          {!!state.isAnswered &&\n            (state.isDone ? (\n              <NextButton onClick={handlers.handleResetState}>\n                Play again\n              </NextButton>\n            ) : (\n              <NextButton onClick={handlers.handleNextQuestionClick}>\n                Next question\n              </NextButton>\n            ))}\n        </ButtonContainer>\n      </AppContainer>\n    </Shell>\n  );\n}\n","import React, { StrictMode } from \"react\";\nimport { render } from \"react-dom\";\n\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport { cache as questions } from \"./db.json\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\n\nconst app = (\n  <StrictMode>\n    <App questions={questions} />\n  </StrictMode>\n);\n\nrender(app, rootElement);\n\nregisterServiceWorker();\n"],"sourceRoot":""}