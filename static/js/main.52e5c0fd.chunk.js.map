{"version":3,"sources":["registerServiceWorker.ts","components/styled.ts","components/QuestionItem.tsx","helpers.ts","components/Progress.tsx","Storage.ts","App.tsx","index.tsx"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","colors","primary","secondary","positive","negative","neutral","muted","hotpink","black","white","gray","lightbrown","darkbrown","asphaltgrey","lightgrey","lightgreen","olivegreen","icons","check","concat","cross","Shell","styled","div","_templateObject","AppContainer","_templateObject2","Header","header","_templateObject3","Card","_templateObject4","SummaryCard","_templateObject5","props","color","Question","_templateObject6","QuestionText","_templateObject7","Image","img","_templateObject8","ImageWrapper","_templateObject9","Option","_templateObject10","isAnswered","isSelected","isCorrect","Hint","_templateObject11","Pill","span","_templateObject12","Footer","footer","_templateObject13","NextButton","button","_templateObject14","QuestionItem","react_default","a","createElement","index","question","alt","src","image","uri","Object","keys","answers","map","key","onClick","option","selected","onSelect","correctAnswer","style","roadCodePage","shuffle","array","temporaryValue","randomIndex","currentIndex","length","Math","floor","random","ratio","n","ProgressContainer","Progress_templateObject","ProgressBar","Progress_templateObject2","ProgressText","Progress_templateObject3","Progress","answeredCount","incorrectCount","correctCount","getSampleRatio","questionsCount","progressRatio","incorrectRatio","correctRatio","ratios","x","round","Storage","value","localStorage","setItem","JSON","stringify","defaultValue","getItem","parse","INITIAL_STATE","isDone","questions","questionsAmount","status","selectedOption","makeActionHandlers","setState","onNextQuestionClick","objectSpread","onResetState","slice","onOptionSelection","isFailed","rootElement","document","getElementById","app","react","defaultState","_useState","useState","read","_useState2","slicedToArray","useEffect","persist","vh","innerHeight","documentElement","setProperty","actions","selectedItem","assign","render","URL","process","toString","origin","addEventListener","fetch","response","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.52e5c0fd.chunk.js","sourcesContent":["// tslint:disable:no-console\r\n// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the 'N+1' visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL!,\r\n      window.location.toString()\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://goo.gl/SC7cgQ\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker) {\r\n          installingWorker.onstatechange = () => {\r\n            if (installingWorker.state === \"installed\") {\r\n              if (navigator.serviceWorker.controller) {\r\n                // At this point, the old content will have been purged and\r\n                // the fresh content will have been added to the cache.\r\n                // It's the perfect time to display a 'New content is\r\n                // available; please refresh.' message in your web app.\r\n                console.log(\"New content is available; please refresh.\");\r\n              } else {\r\n                // At this point, everything has been precached.\r\n                // It's the perfect time to display a\r\n                // 'Content is cached for offline use.' message.\r\n                console.log(\"Content is cached for offline use.\");\r\n              }\r\n            }\r\n          };\r\n        }\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get(\"content-type\")!.indexOf(\"javascript\") === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const colors = {\r\n  primary: \"#ffd400\",\r\n  secondary: \"#3482b9\",\r\n  positive: \"#49c04a\",\r\n  negative: \"#d03930\",\r\n  neutral: \"#aaa\",\r\n  muted: \"#eaeaea\",\r\n  hotpink: \"#FC8BA4\",\r\n  black: \"#333\",\r\n  white: \"#fff\",\r\n  gray: \"#ccc\",\r\n  // alternative pallette\r\n  lightbrown: \"#AD5114\",\r\n  darkbrown: \"#663210\",\r\n  asphaltgrey: \"#415E6D\",\r\n  lightgrey: \"#A0AEB6\",\r\n  lightgreen: \"#75B600\",\r\n  olivegreen: \"#46600E\"\r\n};\r\n\r\nexport const icons = {\r\n  check: `${\r\n    colors.positive\r\n    // tslint:disable-next-line:max-line-length\r\n  } 50% no-repeat url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjIwLjM0OXB4IiBoZWlnaHQ9IjE1LjgyNnB4IiB2aWV3Qm94PSIwIDAgMjAuMzQ5IDE1LjgyNiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAuMzQ5IDE1LjgyNiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+IDxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHBvaW50cz0iMTguMjI4LDAgMjAuMzQ5LDIuMTIyIDYuNjQ0LDE1LjgyNiAwLDkuMTgyIDIuMTIyLDcuMDYxIDYuNjQ0LDExLjU4MyAiLz4gPC9zdmc+)`,\r\n  // tslint:disable-next-line:max-line-length\r\n  cross: `white 50% no-repeat  url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE1Ljg3M3B4IiBoZWlnaHQ9IjE1Ljg5MXB4IiB2aWV3Qm94PSIwIDAgMTUuODczIDE1Ljg5MSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTUuODczIDE1Ljg5MSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+IDxwb2x5Z29uIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjZGE0MTIxIiBwb2ludHM9IjE0LjE4NiwwIDE1Ljg3MywxLjc0IDkuNjg2LDcuOTYzIDE1LjgzOCwxNC4xNSAxNC4xNSwxNS44OTEgNy45MjgsOS43MjEgMS44MTEsMTUuODkxIDAuMDM1LDE0LjE1IDYuMTg4LDcuOTYzIDAsMS43NzUgMS43NTgsMCA3Ljk2Myw2LjI0ICIvPiA8L3N2Zz4=)`\r\n};\r\n\r\nexport const Shell = styled.div`\r\n  display: flex;\r\n  background-color: #dedede;\r\n  font-family: Roboto, sans-serif;\r\n  color: ${colors.black};\r\n  height: 100vh;\r\n  height: calc(var(--vh, 1vh) * 100);\r\n`;\r\n\r\nexport const AppContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 0 auto;\r\n  padding-top: 40px;\r\n  max-width: 400px;\r\n  flex-grow: 1;\r\n`;\r\n\r\nexport const Header = styled.header`\r\n  font-size: 2em;\r\n  text-align: center;\r\n  color: ${colors.secondary};\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const Card = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 10vh;\r\n  margin: 1em 0;\r\n  padding: 0.3em;\r\n  border-radius: 0.2em;\r\n  background-color: white;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);\r\n  @media screen and (max-width: 600px) {\r\n    margin: 1em 0.4em;\r\n  }\r\n`;\r\n\r\nexport const SummaryCard = styled(Card)`\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 10vh;\r\n  font-weight: bold;\r\n  color: ${colors.white};\r\n  font-size: 1.2em;\r\n  background-color: ${(props) => props.color};\r\n`;\r\n\r\nexport const Question = styled.div`\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  background: ${colors.primary};\r\n  padding: 0.3em;\r\n  border-radius: 0.2em;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  color: #333;\r\n`;\r\n\r\nexport const QuestionText = styled.div`\r\n  margin: 0.2em;\r\n  margin-right: 0.1em;\r\n`;\r\n\r\nexport const Image = styled.img`\r\n  width: 8em;\r\n  height: 8em;\r\n  overflow: hidden;\r\n  border-radius: 50%;\r\n  border: solid 0.2em white;\r\n`;\r\n\r\nexport const ImageWrapper = styled.div``;\r\n\r\ninterface OptionProps {\r\n  isSelected: boolean;\r\n  isAnswered: boolean;\r\n  isCorrect: boolean;\r\n}\r\n\r\nconst getOptionDisplay = (props: OptionProps) =>\r\n  props.isAnswered\r\n    ? props.isSelected || props.isCorrect\r\n      ? \"flex\"\r\n      : \"none\"\r\n    : \"flex\";\r\n\r\nconst getOptionBackgroundColor = (props: OptionProps) =>\r\n  props.isAnswered && props.isSelected\r\n    ? props.isCorrect\r\n      ? colors.positive\r\n      : colors.negative\r\n    : colors.muted;\r\n\r\nexport const Option = styled.div<OptionProps>`\r\n  display: ${getOptionDisplay};\r\n  padding: 0.6em 0.2em;\r\n  margin: 0.4em 0;\r\n  align-items: center;\r\n  border-radius: 0.2em;\r\n  cursor: ${(props) => (props.isAnswered ? \"\" : \"pointer\")};\r\n  background-color: ${getOptionBackgroundColor};\r\n  color: ${(props) =>\r\n    props.isAnswered && props.isSelected ? colors.white : colors.black};\r\n  :hover {\r\n    background-color: ${(props) => (props.isAnswered ? \"\" : colors.gray)};\r\n  }\r\n  transition: background-color 0.3s;\r\n`;\r\n\r\nexport const Hint = styled.div`\r\n  color: #666;\r\n  padding: 0.2em;\r\n`;\r\n\r\ninterface PillProps {\r\n  isSelected: boolean;\r\n  isAnswered: boolean;\r\n  isCorrect: boolean;\r\n}\r\n\r\nconst getPillBackground = (props: PillProps) =>\r\n  props.isAnswered && (props.isSelected || props.isCorrect)\r\n    ? props.isCorrect\r\n      ? icons.check\r\n      : icons.cross\r\n    : colors.primary;\r\n\r\nconst getPillBorder = (props: PillProps) =>\r\n  props.isAnswered && (props.isSelected || props.isCorrect)\r\n    ? props.isCorrect\r\n      ? `solid 0.1em ${colors.white}`\r\n      : `none`\r\n    : `solid 0.1em ${colors.black}`;\r\n\r\nexport const Pill = styled.span<PillProps>`\r\n  border-radius: 50%;\r\n  min-width: 1.4em;\r\n  min-height: 1.4em;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-right: 0.4em;\r\n  margin-left: 0.1em;\r\n  font-weight: bold;\r\n  padding: 0.2em;\r\n  background: ${getPillBackground};\r\n  border: ${getPillBorder};\r\n`;\r\n\r\nexport const Footer = styled.footer`\r\n  display: flex;\r\n  justify-self: flex-end;\r\n  align-self: flex-end;\r\n  width: 100%;\r\n  @media screen and (max-width: 600px) {\r\n    flex: 1;\r\n  }\r\n`;\r\n\r\nexport const NextButton = styled.button`\r\n  background-color: ${colors.secondary};\r\n  font-size: 1.8em;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 0.1em;\r\n  padding: 0.3em 0.6em;\r\n  flex: 1;\r\n  @media screen and (max-width: 600px) {\r\n    align-self: flex-end;\r\n    border-radius: 0;\r\n  }\r\n`;\r\n","import React from \"react\";\r\n\r\nimport {\r\n  Card,\r\n  colors,\r\n  Hint,\r\n  Image,\r\n  ImageWrapper,\r\n  Option,\r\n  Pill,\r\n  Question,\r\n  QuestionText\r\n} from \"./styled\";\r\n\r\nimport { IQuestion } from \"../types\";\r\n\r\ninterface Props extends IQuestion {\r\n  index: number;\r\n  selected: string | null;\r\n  onSelect(selectedOption: string, isCorrect: boolean): void;\r\n}\r\n\r\nexport default function QuestionItem(props: Props) {\r\n  const handleSelection = (option: string) => () => {\r\n    if (!!props.selected) {\r\n      return;\r\n    }\r\n\r\n    props.onSelect(option, option === props.correctAnswer);\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <Question>\r\n        <QuestionText>\r\n          #{props.index}: {props.question}\r\n        </QuestionText>\r\n        <ImageWrapper>\r\n          <Image alt=\"question's image\" src={props.image.uri} />\r\n        </ImageWrapper>\r\n      </Question>\r\n      {Object.keys(props.answers).map((key) => (\r\n        <Option\r\n          key={key}\r\n          onClick={handleSelection(key)}\r\n          isAnswered={!!props.selected}\r\n          isCorrect={key === props.correctAnswer}\r\n          isSelected={key === props.selected}\r\n        >\r\n          <Pill\r\n            isAnswered={!!props.selected}\r\n            isCorrect={key === props.correctAnswer}\r\n            isSelected={key === props.selected}\r\n          >\r\n            {!!props.selected &&\r\n            (key === props.selected || key === props.correctAnswer)\r\n              ? \"\"\r\n              : key}\r\n          </Pill>\r\n          <div>{props.answers[key]}</div>\r\n        </Option>\r\n      ))}\r\n      {!!props.selected && (\r\n        <Hint>\r\n          {props.selected !== props.correctAnswer && (\r\n            <p style={{ color: colors.negative }}>\r\n              Correct Answer: {props.correctAnswer}\r\n            </p>\r\n          )}\r\n          {`For more information about this question refer to page ${\r\n            props.roadCodePage\r\n          } of the Official New Zealand Road Code.`}\r\n        </Hint>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n","export function shuffle<T>(array: T[]) {\r\n  let currentIndex = array.length;\r\n  let temporaryValue;\r\n  let randomIndex;\r\n\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n\r\n    // And swap it with the current element.\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\nexport const ratio = (length: number) => (n: number) => (n / length) * 100;\r\n","import styled from \"@emotion/styled\";\r\nimport React from \"react\";\r\n\r\nimport { ratio } from \"../helpers\";\r\nimport { colors } from \"./styled\";\r\n\r\nconst ProgressContainer = styled.div`\r\n  display: flex;\r\n  position: fixed;\r\n  top: 0;\r\n  background-color: ${colors.neutral};\r\n  height: 1.8em;\r\n  width: 100%;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);\r\n`;\r\nexport interface ProgressBarProps {\r\n  ratio: number;\r\n  color: string;\r\n}\r\n\r\nconst ProgressBar = styled.div<ProgressBarProps>`\r\n  height: 1.8em;\r\n  background-color: ${(props) => props.color};\r\n  width: ${(props) => props.ratio}%;\r\n  transition: 0.3s;\r\n`;\r\n\r\nconst ProgressText = styled.div`\r\n  font-size: 1em;\r\n  font-weight: bold;\r\n  text-align: right;\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0.1em;\r\n  height: 1.8em;\r\n  color: white;\r\n  padding: 0.3em 0.4em;\r\n`;\r\n\r\ninterface Props {\r\n  questionsCount: number;\r\n  correctCount: number;\r\n  incorrectCount: number;\r\n}\r\n\r\nexport default function Progress(props: Props) {\r\n  const answeredCount = props.incorrectCount + props.correctCount;\r\n\r\n  const getSampleRatio = ratio(props.questionsCount);\r\n  const progressRatio = getSampleRatio(answeredCount);\r\n  const incorrectRatio = getSampleRatio(props.incorrectCount);\r\n  const correctRatio = getSampleRatio(props.correctCount);\r\n\r\n  const ratios = [\r\n    {\r\n      ratio: incorrectRatio,\r\n      color: colors.negative,\r\n    },\r\n    {\r\n      ratio: correctRatio,\r\n      color: colors.positive,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <ProgressContainer>\r\n      {ratios.map((x) => (\r\n        <ProgressBar key={x.color} ratio={x.ratio} color={x.color} />\r\n      ))}\r\n      <ProgressText>\r\n        {answeredCount} of {props.questionsCount} ({Math.round(progressRatio)}\r\n        %)\r\n        {!!props.incorrectCount &&\r\n          ` / ${props.incorrectCount} wrong answer${\r\n            props.incorrectCount > 1 ? \"s\" : \"\"\r\n          }`}\r\n      </ProgressText>\r\n    </ProgressContainer>\r\n  );\r\n}\r\n","const LS_KEY = \"@THE_ROAD_QUIZ\";\r\n\r\nexport default class Storage {\r\n  static persist<T extends {}>(value: T) {\r\n    localStorage.setItem(LS_KEY, JSON.stringify(value));\r\n  }\r\n\r\n  static read<T extends {}>(defaultValue: T): T {\r\n    const value = localStorage.getItem(LS_KEY);\r\n    return value !== null ? JSON.parse(value) : defaultValue;\r\n  }\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { IQuestionItem } from \"./types\";\r\n\r\nimport {\r\n  AppContainer,\r\n  colors,\r\n  Footer,\r\n  Header,\r\n  NextButton,\r\n  Progress,\r\n  QuestionItem,\r\n  Shell,\r\n  SummaryCard\r\n} from \"./components\";\r\n\r\nimport { ratio, shuffle } from \"./helpers\";\r\nimport Storage from \"./Storage\";\r\nimport \"./styles.css\";\r\n\r\ntype Status = \"IN_PROGRESS\" | \"PASSED\" | \"FAILED\";\r\n\r\ninterface State {\r\n  answeredCount: number;\r\n  correctCount: number;\r\n  incorrectCount: number;\r\n  isDone: boolean;\r\n  index: number;\r\n  isAnswered: boolean;\r\n  questions: IQuestionItem[];\r\n  questionsAmount: number;\r\n  status: Status;\r\n  selectedOption: string | null;\r\n}\r\n\r\nconst INITIAL_STATE: State = {\r\n  answeredCount: 0,\r\n  correctCount: 0,\r\n  incorrectCount: 0,\r\n  isDone: false,\r\n  index: 0,\r\n  isAnswered: false,\r\n  questions: [],\r\n  questionsAmount: 35,\r\n  status: \"IN_PROGRESS\",\r\n  selectedOption: null\r\n};\r\n\r\ninterface Props {\r\n  questions: IQuestionItem[];\r\n}\r\n\r\ntype SetStateFn = (value: React.SetStateAction<State>) => void;\r\n\r\nconst makeActionHandlers = (\r\n  setState: SetStateFn,\r\n  questions: IQuestionItem[]\r\n) => ({\r\n  onNextQuestionClick() {\r\n    setState((state) =>\r\n      state.index < state.questionsAmount - 1\r\n        ? {\r\n            ...state,\r\n            index: state.index + 1,\r\n            isAnswered: false,\r\n            selectedOption: null\r\n          }\r\n        : state\r\n    );\r\n  },\r\n  onResetState() {\r\n    setState((state) => ({\r\n      ...INITIAL_STATE,\r\n      questionsAmount: state.questionsAmount,\r\n      questions: shuffle(questions).slice(0, state.questionsAmount)\r\n    }));\r\n  },\r\n  onOptionSelection(selectedOption: string, isCorrect: boolean) {\r\n    setState((state) => {\r\n      const isDone = state.index === state.questionsAmount - 1;\r\n      const incorrectCount = !isCorrect\r\n        ? state.incorrectCount + 1\r\n        : state.incorrectCount;\r\n      const correctCount = isCorrect\r\n        ? state.correctCount + 1\r\n        : state.correctCount;\r\n      const isFailed = incorrectCount > 3;\r\n\r\n      return {\r\n        ...state,\r\n        selectedOption,\r\n        answeredCount: state.answeredCount + 1,\r\n        correctCount,\r\n        incorrectCount,\r\n        isDone: isDone || isFailed,\r\n        isAnswered: true,\r\n        status: isFailed ? \"FAILED\" : isDone ? \"PASSED\" : \"IN_PROGRESS\"\r\n      };\r\n    });\r\n  }\r\n});\r\n\r\nexport default function App(props: Props) {\r\n  const defaultState = {\r\n    ...INITIAL_STATE,\r\n    questions: props.questions.slice(0, INITIAL_STATE.questionsAmount)\r\n  };\r\n\r\n  const [state, setState] = useState<State>(Storage.read(defaultState));\r\n\r\n  useEffect(() => Storage.persist(state));\r\n  useEffect(() => {\r\n    const vh = window.innerHeight * 0.01;\r\n    document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\r\n  });\r\n\r\n  const actions = makeActionHandlers(setState, props.questions);\r\n\r\n  const selectedItem = state.questions[state.index];\r\n\r\n  return (\r\n    <Shell>\r\n      <Progress\r\n        questionsCount={state.questionsAmount}\r\n        incorrectCount={state.incorrectCount}\r\n        correctCount={state.correctCount}\r\n      />\r\n      <AppContainer>\r\n        <Header>The Road Quiz</Header>\r\n        <main>\r\n          {state.isDone ? (\r\n            <SummaryCard\r\n              color={\r\n                state.status === \"FAILED\" ? colors.negative : colors.positive\r\n              }\r\n            >\r\n              {state.status === \"FAILED\"\r\n                ? `Sorry, you failed ${\r\n                    state.incorrectCount\r\n                  } questions. Try again.`\r\n                : \"Congratulations, you passed the test!\"}\r\n            </SummaryCard>\r\n          ) : (\r\n            <QuestionItem\r\n              key={selectedItem.key}\r\n              onSelect={actions.onOptionSelection}\r\n              index={state.index + 1}\r\n              selected={state.selectedOption}\r\n              {...selectedItem.value}\r\n            />\r\n          )}\r\n        </main>\r\n        <Footer>\r\n          {!!state.isAnswered &&\r\n            (state.isDone ? (\r\n              <NextButton onClick={actions.onResetState}>Play again</NextButton>\r\n            ) : (\r\n              <NextButton onClick={actions.onNextQuestionClick}>\r\n                Next question\r\n              </NextButton>\r\n            ))}\r\n        </Footer>\r\n      </AppContainer>\r\n    </Shell>\r\n  );\r\n}\r\n","import React, { StrictMode } from \"react\";\r\nimport { render } from \"react-dom\";\r\n\r\nimport { cache as questions } from \"./db.json\";\r\nimport registerServiceWorker from \"./registerServiceWorker\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\n\r\nconst app = (\r\n  <StrictMode>\r\n    <App questions={questions} />\r\n  </StrictMode>\r\n);\r\n\r\nrender(app, rootElement);\r\n\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}